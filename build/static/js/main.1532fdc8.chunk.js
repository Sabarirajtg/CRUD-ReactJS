(this.webpackJsonpcrud=this.webpackJsonpcrud||[]).push([[0],{24:function(e,t,c){"use strict";c.r(t);var n=c(3),i=c(11),s=c.n(i),j=c(5),r=c(8),a=c(9),d=c(1),l=function(e){var t={id:"",title:"",author:"",isbn:"",Isok:"false"},c=Object(n.useState)(t),i=Object(r.a)(c,2),s=i[0],l=i[1];Object(n.useEffect)((function(){""===e.currentId?l(Object(j.a)({},t)):l(Object(j.a)({},e.contactObjects[e.currentId]))}),[e.currentId,e.contactObjects]);var b=function(e){var t=e.target,c=t.name,n=t.value;l(Object(j.a)(Object(j.a)({},s),{},Object(a.a)({},c,n)))};return Object(d.jsxs)("form",{autoComplete:"off",onSubmit:function(t){t.preventDefault(),e.addOrEdit(s),l(Object(j.a)(Object(j.a)({},s),{},{Isok:!0}))},align:"center",children:[Object(d.jsxs)("div",{children:[Object(d.jsxs)("pre",{children:[" ",Object(d.jsx)("label",{children:"ID"})]}),Object(d.jsx)("input",{pattern:"[0-9]+",name:"id",placeholder:"Enter ID",value:s.id,onChange:b})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("pre",{children:Object(d.jsx)("label",{children:"Title"})}),Object(d.jsx)("input",{name:"title",placeholder:"Title",value:s.title,onChange:b})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("pre",{children:Object(d.jsx)("label",{children:"Author"})}),Object(d.jsx)("input",{name:"author",placeholder:"Author",value:s.author,onChange:b})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("pre",{children:Object(d.jsx)("label",{children:"ISBN"})}),Object(d.jsx)("input",{pattern:"[0-9]+",name:"isbn",placeholder:"Isbn",value:s.isbn,onChange:b})]}),Object(d.jsx)("div",{children:Object(d.jsx)("input",{type:"submit",value:"save",className:"btn"})})]})},b=c(12),o=(c(20),b.a.initializeApp({apiKey:"AIzaSyBRk31CBCmjRBXE9YHwFRNDQgCphC_-mmA",authDomain:"crud-c632f.firebaseapp.com",databaseURL:"https://crud-c632f-default-rtdb.firebaseio.com",projectId:"crud-c632f",storageBucket:"crud-c632f.appspot.com",messagingSenderId:"1055713770253",appId:"1:1055713770253:web:3ca253d989d9f93b538e44"}).database().ref()),h=function(){var e=Object(n.useState)(""),t=Object(r.a)(e,2),c=t[0],i=t[1],s=Object(n.useState)({}),a=Object(r.a)(s,2),b=a[0],h=a[1];Object(n.useEffect)((function(){o.child("Kind").on("value",(function(e){null!=e.val()&&h(Object(j.a)({},e.val()))}))}),[]);var u=function(e){window.confirm("Are you sure to delete this record?")&&o.child("Kind/".concat(e)).remove((function(e){e?console.log(e):i(""),window.location.reload()}))};return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{className:"myDiv",children:Object(d.jsx)("div",{children:Object(d.jsx)("h1",{align:"center",children:"Library System"})})}),Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{children:Object(d.jsx)(l,{currentId:c,contactObjects:b,addOrEdit:function(e){""==c?o.child("Kind").push(e,(function(e){e||i("")})):o.child("Kind/".concat(c)).set(e,i(""))},onDelete:u})}),Object(d.jsx)("div",{children:Object(d.jsxs)("table",{children:[Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:"ID"}),Object(d.jsx)("th",{children:"Title"}),Object(d.jsx)("th",{children:"Author"}),Object(d.jsx)("th",{children:"ISBN"}),Object(d.jsx)("th",{children:"Actions"})]}),Object(d.jsx)("tbody",{children:Object.keys(b).map((function(e){return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:b[e].id}),Object(d.jsx)("td",{children:b[e].title}),Object(d.jsx)("td",{children:b[e].author}),Object(d.jsx)("td",{children:b[e].isbn}),Object(d.jsxs)("td",{className:"",children:[Object(d.jsx)("a",{className:"",onClick:function(){i(e)},children:Object(d.jsx)("button",{type:"button",className:"contact-button",children:"Edit"})}),Object(d.jsx)("a",{className:"",onClick:function(){u(e)},children:Object(d.jsx)("button",{type:"button",className:"contact-button",children:"Delete"})})]})]},e)}))})]})})]})]})};var u=function(){return Object(d.jsx)("div",{className:"row",children:Object(d.jsx)("div",{className:"col md-8 offset-md-1",children:Object(d.jsx)(h,{})})})};s.a.render(Object(d.jsx)(u,{}),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.1532fdc8.chunk.js.map